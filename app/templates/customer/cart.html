<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>

    <!-- bootstrap css -->
    <link
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
        rel="stylesheet"
        integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
        crossorigin="anonymous" />
    <!-- css -->
    <!-- Font awesome -->
    <script src="https://kit.fontawesome.com/2f72a1f7d3.js" crossorigin="anonymous"></script>

    <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css" />

    <script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
    <link rel="stylesheet" href="../assets/css/style.css" />

</head>

<body>
    <div class="header">
        <div class="header-main">
            <div class="container ps-2">
                <div class="row d-flex justify-content-between align-items-center">
                    <div class="col-lg-auto col-4">
                        <a href="#" class="navbar-brand">Logo Shop</a>
                    </div>
                    <div class="col-lg-auto order-lg-last col-8">
                        <div class="d-flex float-end">
                            <a href="" class="header-nav-item ms-4">
                                <i class="fa-solid fa-cart-shopping"></i>
                                <!-- <span
                            class="badge position-absolute translate-middle bg-danger start-80"
                            >5</span
                          > -->
                            </a>
                            <a href="" class="header-nav-item ms-4">
                                <i class="fa-regular fa-user"></i>
                            </a>
                        </div>
                    </div>

                    <!-- Search -->
                    <div class="col-lg-6 col-12">
                        <form action="" class="d-flex position-relative justify-content-center align-items-center" role="search">
                            <input type="text" class="form-control shadow-none search-input" type="search" placeholder="Search" />
                            <div class="search-btn" type="submit">
                                <i class="fa fa-search"></i>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg">
        <div class="container p-0">
            <button class="navbar-toggler">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="navbar-collapse collapse">
                <ul class="navbar-nav">
                    <li class="nav-item .active">
                        <a href="" class="nav-link pe-5"><span class="nav-content">Trang chủ</span></a>
                    </li>
                    <li class="nav-item">
                        <a href="" class="nav-link pe-5"><span class="nav-content">Sản phẩm</span></a>
                    </li>
                    <li class="nav-item">
                        <a href="" class="nav-link pe-5"><span class="nav-content">Đơn hàng</span></a>
                    </li>
                    <li class="nav-item">
                        <a href="" class="nav-link pe-5"><span class="nav-content">Thanh toán</span></a>
                    </li>
                    <li class="nav-item">
                        <a href="" class="nav-link pe-5"><span class="nav-content">About</span></a>
                    </li>
                </ul>
            </div>
            <!-- <ul class="navbar-nav">
                  <li class="nav-item">Home</li>
                          <li class="nav-item">Product</li>
                          <li class="nav-item">Order</li>
                  <li class="nav-item"></li>
                </ul> -->
        </div>
    </nav>

    <!-- Content -->
    <section class="py-5">
        <div class="container">
            <h2>Giỏ hàng</h2>
            <div class="row">
                <div class="col-8">
                    <div class="cart-table">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th scope="col"><input class="cart-table__select-all form-check-input" type="checkbox" value="" id="flexCheckDefault"></th>
                                    <th scope="col" style="width: 250px;">Sản phẩm</th>
                                    <th scope="col">Màu sắc</th>
                                    <th scope="col">Kích cỡ</th>
                                    <th scope="col">Số lượng</th>
                                    <th scope="col">Giá</th>
                                    <th scope="col">Thành tiền</th>
                                    <th scope="col"></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="cart-table-row">
                                    <!-- viết một hàng dữ liệu sản phẩm trong giỏ hàng -->
                                    <th scope="row">
                                        <input class="cart-table__select-item form-check-input" type="checkbox" value="" id="flexCheckDefault">
                                    </th>
                                    <td>
                                        <div class="d-flex ">
                                            <img src="../assets/image/shirt.jpg" alt="" class="cart-product-img" style="width: 64px;" />
                                            <div class="cart-product-name text-container ms-2">Tee basic ss1 áo thun tay lỡ unisex Local Brand - AO_THUN_DVR (V427)</div>
                                        </div>
                                    </td>
                                    <td>
                                        <div class="cart-product-size">Trắng</div>
                                    </td>
                                    <td>
                                        <div class="cart-product-size">M</div>
                                    </td>
                                    <td>
                                        <div class="d-flex">
                                            <button class="btn btn-quantity btn-minus">
                                                <i class="fa-solid fa-minus"></i>
                                            </button>
                                            <input type="number" class="form-control input-quantity" min="1" value="1">
                                            <button class="btn btn-quantity btn-add">
                                                <i class="fa-solid fa-plus"></i>
                                            </button>
                                        </div>
                                    </td>
                                    <td>
                                        <div class="cart-product-price">100.000đ</div>
                                    </td>
                                    <td>
                                        <div class="cart-product-total-price">100.000đ</div>
                                    </td>
                                    <td>
                                        <div class="cart-product-action">
                                            <i class="fa-solid fa-trash"></i>
                                        </div>
                                    </td>

                                </tr>
                                <tr class="cart-table-row">
                                    <!-- viết một hàng dữ liệu sản phẩm trong giỏ hàng -->
                                    <th scope="row">
                                        <input class="cart-table__select-item form-check-input" type="checkbox" value="" id="flexCheckDefault">
                                    </th>
                                    <td>
                                        <div class="d-flex ">
                                            <img src="../assets/image/shirt.jpg" alt="" class="cart-product-img" style="width: 64px;" />
                                            <div class="cart-product-name text-container ms-2">Tee basic ss1 áo thun tay lỡ unisex Local Brand - AO_THUN_DVR (V427)</div>
                                        </div>
                                    </td>
                                    <td>
                                        <div class="cart-product-size">Trắng</div>
                                    </td>
                                    <td>
                                        <div class="cart-product-size">M</div>
                                    </td>
                                    <td>
                                        <div class="d-flex">
                                            <button class="btn btn-quantity btn-minus">
                                                <i class="fa-solid fa-minus"></i>
                                            </button>
                                            <input type="number" class="form-control input-quantity" min="1" value="1">
                                            <button class="btn btn-quantity btn-add">
                                                <i class="fa-solid fa-plus"></i>
                                            </button>
                                        </div>
                                    </td>
                                    <td>
                                        <div class="cart-product-price">100.000đ</div>
                                    </td>
                                    <td>
                                        <div class="cart-product-total-price">100.000đ</div>
                                    </td>
                                    <td>
                                        <div class="cart-product-action">
                                            <i class="fa-solid fa-trash"></i>
                                        </div>
                                    </td>

                                </tr>
                                <tr class="cart-table-row">
                                    <!-- viết một hàng dữ liệu sản phẩm trong giỏ hàng -->
                                    <th scope="row">
                                        <input class="cart-table__select-item form-check-input" type="checkbox" value="" id="flexCheckDefault">
                                    </th>
                                    <td>
                                        <div class="d-flex ">
                                            <img src="../assets/image/shirt.jpg" alt="" class="cart-product-img" style="width: 64px;" />
                                            <div class="cart-product-name text-container ms-2">Tee basic ss1 áo thun tay lỡ unisex Local Brand - AO_THUN_DVR (V427)</div>
                                        </div>
                                    </td>
                                    <td>
                                        <div class="cart-product-size">Trắng</div>
                                    </td>
                                    <td>
                                        <div class="cart-product-size">M</div>
                                    </td>
                                    <td>
                                        <div class="d-flex">
                                            <button class="btn btn-quantity btn-minus">
                                                <i class="fa-solid fa-minus"></i>
                                            </button>
                                            <input type="number" class="form-control input-quantity" min="1" value="1">
                                            <button class="btn btn-quantity btn-add">
                                                <i class="fa-solid fa-plus"></i>
                                            </button>
                                        </div>
                                    </td>
                                    <td>
                                        <div class="cart-product-price">100.000đ</div>
                                    </td>
                                    <td>
                                        <div class="cart-product-total-price">100.000đ</div>
                                    </td>
                                    <td>
                                        <div class="cart-product-action">
                                            <i class="fa-solid fa-trash"></i>
                                        </div>
                                    </td>

                                </tr>
                                <tr class="cart-table-row">
                                    <td class="fw-bold" colspan="6">Tổng tiền</td>
                                    <td class="total-price">0đ</td>
                                    <td></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="col-4">
                    <div class="card">
                        <div class="card-body p-4">
                            <h4>Đặt hàng</h4>
                            <div class="d-flex justify-content-between mt-4">
                                <p>Số sản phẩm</p>
                                <p class="total-quantity">0</p>
                            </div>
                            <div class="d-flex justify-content-between">
                                <p>Tổng tiền sản phẩm</p>
                                <p class="total-price">0đ</p>
                            </div>

                            <div class="input-group my-4">
                                <input type="text" class="form-control" placeholder="Voucher">
                                <button class="btn btn-light" style="width: 100px;">Apply</button>
                            </div>

                            <div class="d-flex justify-content-between">
                                <p>Voucher giảm</p>
                                <p class="color-red voucher-price">-10.000đ</p>
                            </div>

                            <div class="total-after-voucher d-flex justify-content-between my-3 border-y border-das ">
                                <h4>Tổng tiền</h4>
                                <h4 class="total-money">0đ</h4>
                            </div>
                            <div class="payment">
                                <button class="btn btn-primary w-100" style="height: 40px;">Thanh toán</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <div class="footer">
        <div class=" container">
            <div class="row justify-content-between">
                <div class="col-4">
                    <h5>Shop</h5>
                    <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Alias corporis, ratione ullam, obcaecati autem eius quae vero accusantium, tenetur eveniet voluptatum labore minus accusamus asperiores corrupti harum aliquam debitis! Asperiores.</p>
                </div>
                <div class="col-auto">
                    <h5>Về Shop</h5>
                    <div class="d-flex flex-column">
                        <a href="">Giới thiệu</a>
                        <a href="">Điều khoản</a>
                        <a href="">Chính sách</a>
                        <a href="">Tuyển dụng</a>
                    </div>
                </div>
                <div class="col-auto">
                    <h5>Liên hệ</h5>
                    <div class="d-flex flex-column">
                        <a href=""><i class="fa-brands fa-facebook me-2"></i>Facebook</a>
                        <a href=""><i class="fa-brands fa-instagram me-2"></i>Instagram</a>
                        <a href=""><i class="fa-brands fa-tiktok me-2"></i></i>Tiktok</a>
                    </div>
                </div>
                <div class="col-auto">
                    <h5>Chăm sóc khách hàng</h5>
                    <div class="d-flex flex-column">
                        <a href="">Trung tâm trợ giúp</a>
                        <a href="">Hướng dẫn mua hàng</a>
                        <a href="">Thanh toán</a>
                        <a href="">Vận chuyển</a>
                        <a href="">Bảo hành</a>
                    </div>
                </div>
                <div class="col-auto">
                    <h5>Thanh toán</h5>
                    <div class="d-flex flex-column">
                        <a href="">Giới thiệu</a>
                        <a href="">Điều khoản</a>
                        <a href="">Chính sách</a>
                        <a href="">Tuyển dụng</a>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <!-- jquery -->
    <script
        src="https://code.jquery.com/jquery-3.6.4.js"
        integrity="sha256-a9jBBRygX1Bh5lt8GZjXDzyOB+bWve9EiO7tROUtj/E="
        crossorigin="anonymous"></script>

    <!-- bootstrap js -->
    <script
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
        crossorigin="anonymous"></script>

    <script>
        $(document).ready(function () {
            $(".cart-table__select-all").click(function () {
                var checkAllState = $(this).prop('checked');
                $('.cart-table__select-item').prop('checked', checkAllState);
                calMoney();
            })

            $(".cart-table__select-item").click(function () {
                // kiểm tra xem có checkbox nào chưa được check không
                var unchecked = $(".cart-table__select-item:not(:checked)").length;
                // nếu không có checkbox nào chưa được check, check-all cũng được check
                $(".cart-table__select-all").prop("checked", !unchecked);
                calMoney();
            });
            $('.btn-add').click(function () {
                changeQuantity.bind(this)('add')
            });
            $('.btn-minus').click(function () {
                changeQuantity.bind(this)('minus')
            });

            $('.cart-product-action').click(function () {
                $(this).closest('.cart-table-row').remove();
                calMoney();
            })
        })


        function changeQuantity(operation) {
            var inputQuantity = $(this).siblings('.input-quantity');
            var price = parseFloat($(this).closest('tr').find('.cart-product-price').text().replace('.', ''));
            var quantity = parseInt(inputQuantity.val());
            quantity = operation == 'add' ? quantity + 1 : quantity - 1;
            console.log(quantity);
            inputQuantity.val(quantity);
            $(this).closest('tr').find('.cart-product-total-price').text(price * quantity + 'đ');
            calMoney();
        }

        function calMoney() {
            var totalQuantity = 0;
            var totalPrice = 0;
            var voucher = 0;
            var totaMoney = 0;
            $('.cart-table__select-item:checked').each(function () {
                var quantity = parseInt($(this).closest('tr').find('.input-quantity').val());
                var price = parseFloat($(this).closest('tr').find('.cart-product-total-price').text().replace('.', ''));
                totalQuantity += quantity;
                totalPrice += price;
            });
            voucher = parseFloat($('.voucher-price').text().replace('.', ''));
            totaMoney = totalPrice;
            totaMoney = totaMoney == 0 ? 0 : totaMoney + voucher;
            // Hiển thị kết quả lên giao diện
            $('.total-quantity').text(totalQuantity);
            $('.total-price').text(totalPrice + 'đ');
            $('.total-money').text(totaMoney + 'đ');
        }
    </script>
</body>